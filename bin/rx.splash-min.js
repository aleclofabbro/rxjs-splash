(function(){var n,t,e;e=window.sx={utils:{},internal:{},binders:{}};n={dispose:function(){}};t=function(){};e.utils.bind=function(n,t){if(n.subscribe){return n.subscribe(t)}return t(n)};e.utils.unwrap=function(n){if(n.value&&n.subscribe){return n.value}return n};e.utils.wrap=function(n){if(n.value&&n.subscribe){return n}return new Rx.BehaviorSubject(n)};e.bind=function(n,t){t=$(t||window.document.body);return e.internal.bind(t,{vm:n,vmRoot:n,vmParent:void 0})};e.internal.bind=function(n,t){var r;r=e.internal.parseBindings(t);return t.target.children().each(function(){return e.internal.bind($(this),t)})};e.internal.parseBindings=function(n){var t,e,r,i,u,s;t=n.target.attr("data-splash");if(!t){return null}r=["$data","$root","$parent"];u=[n.vm,n.vmRoot,n.vmParent];s=n.vm;for(e in s){i=s[e];r.push(e);u.push(i)}return new Function(r,"return { "+t+" };").apply(null,u)};e.binders.click=function(n,t,r){return e.binders.event(n,t,r,"click")};e.binders.css=function(n,t,r){var i,u,s,o,a;u=new Rx.CompositeDisposeable;for(s=o=0,a=r.length;o<a;s=++o){i=r[s];u.add(e.utils.bind(s,function(t){n.css(i,t)}))}return u};e.binders.event=function(n,t,e,r){var i;if(r==null){r=e.type}i=$(n).onAsObservable(r);if(typeof e==="function"){return i.subscribe(function(n){e({context:t,e:n})})}return i.subscribe(function(n){e.onNext({context:t,e:n})})};e.binders.foreach=function(n,r,i){var u;u=n.html().trim();r.target.empty();return i.delay(0).subscribe(function(i){var s,o,a;o=$(u).appendTo(n);s=e.internal.bind({vm:i.value,vmRoot:r.vmRoot,vmParent:r.vm,target:o});a=function(){o.remove();return s.dispose()};i.subscribe(t,a,a)})};e.binders.html=function(n,t,r){return e.utils.bind(r,function(t){n.html(t)})};e.binders.text=function(n,t,r){return e.utils.bind(r,function(t){n.text(t)})};e.binders.value=function(n,t,r){var i,u,s,o;if(r.subscribe){u=n.onAsObservable("focus");i=n.onAsObservable("blur");r=r.takeUntil(i).concat(i.take(1)).repeat()}o=e.utils.bind(r,function(t){n.val(t)});if(r.onNext){s=n.onAsObservable("change").subscribe(function(t){r.onNext(n.val())})}return new Rx.CompositeDisposable(s,o)}}).call(this);