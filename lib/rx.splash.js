// Generated by CoffeeScript 1.4.0

/*
Splash
*/


(function() {
  var Splash;

  Splash = (function() {

    function Splash() {
      this.binders = {};
    }

    Splash.prototype.bind = function(vm, dom) {
      var bindings, self;
      self = this;
      dom = $(dom || 'body');
      bindings = dom.find('[data-splash]').map(function() {
        var target;
        target = $(this);
        return {
          target: target,
          bindings: self.parseBindings(vm, target.attr('data-splash'))
        };
      });
      return bindings.each(function() {
        var key, value, _ref, _results;
        console.log(this);
        _ref = this.bindings;
        _results = [];
        for (key in _ref) {
          value = _ref[key];
          _results.push(console.log(self.binders[key].init(this.target, {
            options: value
          })));
        }
        return _results;
      });
    };

    Splash.prototype.parseBindings = function(vm, binding) {
      return {
        text: vm['age']
      };
    };

    return Splash;

  })();

  window.sx = new Splash;

  /*
  Binders
  */


  sx.binders.text = {
    init: function(element, o) {
      var target;
      target = $(element);
      return o.options.subscribe(function(x) {
        return target.text(x);
      });
    }
  };

  sx.binders.value = {
    init: function(element, o) {
      var target;
      target = $(element);
      return o.options.subscribe(function(x) {
        return target.val(x);
      });
    }
  };

  sx.binders.css = {
    init: function(element, o) {
      var target;
      target = $(element);
      return o.options.subscribe(function(x) {
        return target.toggleClass(o.options, x);
      });
    }
  };

}).call(this);
